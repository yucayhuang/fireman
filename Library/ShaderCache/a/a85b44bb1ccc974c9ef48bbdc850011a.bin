n g(a,b,c){if(!b)return r;if(!a)return q;for(var d=0;d<3;d++){if(Number(a[d])>Number(b[d]))return r;if(Number(a[d])<Number(b[d]))return q}return c?h(a,b):s}function h(a,b){return b[4]&&!a[4]?q:a[4]&&!b[4]?r:b[3]&&!a[3]?q:a[3]&&!b[3]?r:s}function i(a,b){return a[3]?a[4]?b.alpha||b.beta:b.alpha:!a[4]||b.beta}var j=/latest(\d+)?(?:_(\d+))?(?:_(\d+))?_?(a?)(b?)/i,k=/(\d+)(?:_(\d+))(?:_(\d+))/,l=/(\d+)\.(\d+)\.(\d+)(?:([abf])(\d+))?/,m=/Unity\/(\d+)\.(\d+)\.(\d+)(a?)(b?)/i,n=/(\d+)?(?:\.(\d+))?(?:\.(\d+))?(a?)(b?)/,o="latest0_0_0",p=99,q=-1,r=1,s=0,t={};return t.isSupported=function(a,b,c,d){if(d||(d={}),!i(a,d))return!1;var f=b&&e(b.match(n),0);if(f&&g(a,f)===q)return!1;var h=c&&e(c.match(n),p);return!h||g(a,h)!==r},t.getLatestValidVersion=function(d,e){var g=c.defer(),h=_.find(a.platforms,{value:d});return b.versions.get("unity").then(function(a){var b=h.version?h.version.min:null,c=h.version?h.version.max:null;g.resolve(f(a,b,c,e))}),g.promise},t.maxSimilarVersion=function(a,b){var c,e,g=b.match(l);if(g&&!(g.length<4)){c=g[1],e=g[2];var h={allowHidden:!0};6===g.length&&(h.alpha="a"===g[4],h.beta="b"===g[4]);var i=d(c,e),j=c,k=f(a,j,i,h);if(k)return k;var m=b.replace(/\./g,"_"),n=_.find(a,{value:m});if(n)return n.value;var n=_.find(a,{value:b});return n?n.value:void 0}},t.filterUnsupportedVersions=function(b,c){var d={alpha:!0,beta:!0},f=_.find(a.platforms,{value:c});return f&&f.version?_.filter(b,function(a){var b=a.value.match(k);return b?(b=e(b,p),t.isSupported(b,f.version.min,f.version.max,d)):!(b=a.value.match(j))||(b=e(b,p),t.isSupported(b,f.version.min,f.version.max,d))}):b},t.userAgentMatch=function(a){return e(a.match(m),p)},t}]).filter("supportedVersions",["unityVersionService",function(a){return a.filterUnsupportedVersions}]),angular.module("ut.cloudbuild.setup").directive("validatesubdirectory",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(a){d.$setValidity("subdirectoryNewline",!0),d.$setValidity("subdirectoryCharacters",!0),d.$setValidity("subdirectoryParent",!0),d.$setValidity("subdirectorySource",!0);var c=b.val();c&&0!==c.length&&(/[\r\n\f]/.test(c)?d.$setValidity("subdirectoryNewline",!1):/[$`\\!"*@#]/.test(c)?d.$setValidity("subdirectoryCharacters",!1):/(?:^|\/)\.\.\//.test(c)?d.$setValidity("subdirectoryParent",!1):/(?:^|\/)\.\//.test(c)&&d.$setValidity("subdirectorySource",!1))}e(d.$viewValue),a.$watch(function(){return d.$viewValue},e)}}}),angular.module("ut.cloudbuild.setup").directive("fileModel",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=a(d.fileModel),f=e.assign;c.bind("change",function(){b.$apply(function(){f(b,c[0].files[0])})})}}}]),angular.module("ut.cloudbuild.setup").constant("setupConstants",{platforms:[{name:"Please choose a platform target",value:"",icon:"",hidden:!0},{name:"iOS",value:"ios",icon:"unityicon unityicon-os-ios"},{name:"Android",value:"android",icon:"unityicon unityicon-os-android"},{name:"Web Player",value:"webplayer",icon:"unityicon unityicon-os-webplayer",version:{max:"5.3.99"}},{name:"WebGL",value:"webgl",icon:"unityicon unityicon-os-webgl"},{name:"Mac desktop 32-bit",value:"standaloneosxintel",icon:"unityicon unityicon-os-osx-32"},{name:"Mac desktop 64-bit",value:"standaloneosxintel64",icon:"unityicon unityicon-os-osx-64"},{name:"Mac desktop Universal",value:"standaloneosxuniversal",icon:"unityicon unityicon-os-osx-U"},{name:"Windows desktop 32-bit",value:"standalonewindows",icon:"unityicon unityicon-os-win-32"},{name:"Windows desktop 64-bit",value:"standalonewindows64",icon:"unityicon unityicon-os-win-64"},{name:"Linux desktop 32-bit",value:"standalonelinux",icon:"unityicon unityicon-os-linux-32"},{name:"Linux desktop 64-bit",value:"standalonelinux64",icon:"unityicon unityicon-os-linux-64"},{name:"Linux desktop Universal",value:"standalonelinuxuniversal",icon:"unityicon unityicon-os-linux-U"}],cachingStrategies:[{name:"Off",value:"none"},{name:"Cache Library Directory",value:"library"},{name:"Cache Entire Project",value:"workspace"}]}),angular.module("ut.cloudbuild.setup").provider("utilsService",function(){this.$get=["$q","$timeout",function(a,b){function c(a,d,e,f){if(a[d])f.resolve();else{var g=c.bind(null,a,d,e,f);b(g,e)}}var d={};return d.waitForScopeValueToLoad=function(b,d,e){var f=a.defer();return c(b,d,e||500,f),f.promise},d}]}).directive("utTooltipToggle",function(){return{restrict:"E",replace:!0,template:'<a class="tooltip-toggle">?</a>',link:function(a,b,c){b.bind("click",function(){$(this).parents(".form-group").find(".tooltip").toggleClass("tooltip-visible")})}}}),angular.module("ut.progress",["ut.core"]).directive("utProgress",utProgressDirective),utSwitchDirective.$inject=["$timeout"],angular.module("ut.switch",["ut.core"]).directive("utSwitch",utSwitchDirective),angular.module("ut.wizard-progress",["ut.core"]).directive("utWizardProgress",function(){return{restrict:"E",templateUrl:"../unityeditor-components/src/components/wizard-progress/wizard-progress.tpl.html",scope:{utStep:"@",utTotal:"@"},link:function(a,b,c){var d;for(a.utSteps=[],d=0;d<a.utTotal;d++)a.utSteps.push(d+1)}}}),angular.module("ut.core",[]),angular.module("ut.components",["ut.alert","ut.button","ut.checkbox","ut.cloudbuild","ut.switch","ut.wizard-progress"]).run(function(){}),angular.module("ut.services.cloudbuild",["ngResource","ut.unityeditor-components.cloud-config"]).factory("cloudBuildServiceCredentials",["$injector","$document",function(a,b){function c(a){var c="; "+b.prop("cookie"),d=c.split("; "+a+"=");return 2==d.length?d.pop().split(";").shift():null}return{request:function(b){var d=a.get("cloudBuildService");if(d&&d.isServiceRequest(b.url)){var e=c("connect_token")||c("access_token");e&&(b.headers=b.headers||{},b.headers.Authorization="Bearer "+e)}return b}}}]).factory("cloudBuildServiceMaintenance",["$injector","$rootScope","$q",function(a,b,c){var d=function(){b.$broadcast("uw.service.down",{cloudBuildService:!0})},e=/\/batch\?/;return{response:function(b){if(e.exec(b.config.url)&&b.data){var c=a.get("cloudBuildService");c&&c.isServiceRequest(b.config.url)&&Object.keys(b.data).forEach(function(a){503===b.data[a].statusCode&&d()})}return b},responseError:function(b){if(503===b.status){var e=a.get("cloudBuildService");e&&e.isServiceRequest(b.config.url)&&d()}return c.reject(b)}}}]).factory("cloudBuildService",["$resource","$location","$q","$http","coreConfigService",function(a,b,c,d,e){function f(){var b=c.defer();return a(l.userSelfUrl+"?include=orgs,lastAcceptedEulaVersion,permissions",{}).get().$promise.then(function(a){return g(a)}).then(function(a){n=a,b.resolve(a)},function(a){b.reject(a)}),b.promise}function g(a){var b=c.defer();return a?b.resolve(a):b.reject(h("User not found.")),b.promise}function h(a){var b=new Error(a);return b.authError=!0,b}function i(a,b,e){var f="";b.hasOwnProperty("status")&&b.status&&(f=f+"&buildStatus="+b.status),b.hasOwnProperty("platform")&&b.platform&&(f=f+"&platform="+b.platform),b.hasOwnProperty("showDeleted")&&b.showDeleted&&(f=f+"&showDeleted="+b.showDeleted),b.hasOwnProperty("onlyFavorites")&&b.onlyFavorites&&(f=f+"&onlyFavorites="+b.onlyFavorites);var g=c.defer();return d.get(a+f,{cache:!1,timeout:g.promise}).then(function(a){if(a.data){var b=a.headers("content-range");b=b.split("/");var c={total_count:b[1],data:a.data};e(null,c)}else e("Server returned an error")},function(a){e(a)}),g}function j(){return{save:{
method:"POST",transformRequest:function(a){var b=new FormData;return angular.forEach(a,function(a,c){b.append(c,a)}),b},headers:{"Content-Type":void 0,enctype:"multipart/form-data"}}}}v