artsWith(a,k)},o.needsProjectSetup=function(a){return!a||_.isEmpty(a.settings.scm)||_.isEmpty(a.settings.scm.type)},o.projects.listUsers=function(b){return a(l.projectsUrl+"/"+b+"/users").query().$promise},o.users.listProjects=function(){return a(l.projectsUrl+"?include=settings,serviceFlags").query().$promise},o.orgs.listProjects=function(b){return a(l.orgsUrl+"/"+b+"/projects").query().$promise},o.orgs.getBillingUser=function(b){return a(l.orgsUrl+"/"+b+"/billinguser").get().$promise},o.orgs.getBillingPlan=function(b){return a(l.orgsUrl+"/"+b+"/billingplan").get().$promise},o.orgs.getBuildTargets=function(b){return a(l.orgsUrl+"/"+b+"/buildtargets/?include=settings,credentials").query().$promise},o.orgs.getBuilds=function(a,b,c,d,e){i(l.orgsUrl+"/"+a+"/builds?per_page="+b+"&page="+c,d,e)},o.orgs.cancelBuilds=function(b){return a(l.orgsUrl+"/"+b+"/builds").delete().$promise},o.projects.details=function(b,c){return a(l.orgsUrl+"/"+b+"/projects/"+c+"?include=serviceFlags").get().$promise},o.projects.guid=function(b){return a(l.projectsUrl+"/"+b).get().$promise},o.projects.recordPageView=function(b,c){return a(l.projectsUrl+"/"+b+"/events",{},{}).save({type:"page.view",data:c}).$promise},o.projects.create=function(b,c){return a(l.orgsUrl+"/"+b+"/projects").save({name:c}).$promise},o.projects.edit=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c,{},{update:{method:"PUT"}}).update(d).$promise},o.projects.reset=function(b,c){return a(l.orgsUrl+"/"+b+"/projects/"+c,{}).delete().$promise},o.projects.disable=function(b,c){var d={disabled:!0};return a(l.orgsUrl+"/"+b+"/projects/"+c,{},{update:{method:"PUT"}}).update(d).$promise},o.projects.enable=function(b,c){var d={disabled:!1};return a(l.orgsUrl+"/"+b+"/projects/"+c,{},{update:{method:"PUT"}}).update(d).$promise},o.projects.listCredentials=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/credentials/signing/"+d).query().$promise},o.projects.uploadCredentials=function(b,c,d,e){var f=j();return a(l.orgsUrl+"/"+b+"/projects/"+c+"/credentials/signing/"+d,{},f).save(e).$promise},o.projects.scm={},o.projects.scm.checkUrl=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/scm/checkurl").save(d).$promise},o.projects.scm.gitListBranches=function(b,c){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/scm/git/branches").query().$promise},o.projects.scm.svnListFolders=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/scm/svn/folders",{},{post:{method:"POST",isArray:!0}}).post({subfolder:d}).$promise},o.projects.scm.p4ListClients=function(b,c){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/scm/p4/clients").query().$promise},o.projects.hooks={},o.projects.hooks.list=function(b,c){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/hooks/").query().$promise},o.projects.hooks.create=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/hooks/").save(d).$promise},o.projects.hooks.get=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/hooks/"+d).get().$promise},o.projects.hooks.update=function(b,c,d,e){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/hooks/"+d,{},{update:{method:"PUT"}}).update(e).$promise},o.projects.hooks.delete=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/hooks/"+d).delete().$promise},o.projects.hooks.ping=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/hooks/"+d+"/ping").save({}).$promise},o.projects.getBuilds=function(a,b,c,d,e,f,g){i(l.orgsUrl+"/"+a+"/projects/"+b+"/buildtargets/"+c+"/builds?per_page="+d+"&page="+e,f,g)},o.projects.getAuditlog=function(b,c,d,e){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/auditlog/?per_page="+d+"&page="+e,{},{query:{method:"GET",transformResponse:function(a,b){var c={};c.data=a,"string"==typeof a&&(c.data=angular.fromJson(a));var d=b("content-range");return d=d.split("/"),c.total_count=d[1],c}}}).query().$promise},o.projects.deleteBuildArtifactsForTarget=function(b,c,d){return d||(d="_all"),a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/"+d+"/builds/artifacts").delete().$promise},o.projects.batchDeleteBuildArtifacts=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/artifacts/delete",{},{update:{method:"POST"}}).update({builds:d}).$promise},o.projects.updateBuild=function(b,c,d,e,f){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/"+d+"/builds/"+e,{},{update:{method:"PUT"}}).update(f).$promise},o.projects.getBuild=function(b,c,d,e){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/"+d+"/builds/"+e).get().$promise},o.projects.getBuildWithTestData=function(b,c,d,e){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/"+d+"/builds/"+e+"?include=testResults").get().$promise},o.projects.cancelBuild=function(b,c,d,e){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/"+d+"/builds/"+e).delete().$promise},o.projects.startBuilds=function(b,c,d,e,f){return d||(d="_all"),e||(e=!1),a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/"+d+"/builds",{},{post:{method:"POST",isArray:!0}}).post({clean:e}).$promise},o.projects.getBuildTargets=function(b,c){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/?include=settings,credentials").query().$promise},o.projects.getBuildTargetsAndLastSuccess=function(b,c){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/?include_last_success=true").query().$promise},o.projects.createBuildTarget=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/").save(d).$promise},o.projects.updateBuildTarget=function(b,c,d,e){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/"+d,{},{update:{method:"PUT"}}).update(e).$promise},o.projects.deleteBuildTarget=function(b,c,d){return a(l.orgsUrl+"/"+b+"/projects/"+c+"/buildtargets/"+d).delete().$promise},o.projects.getBuildLog=function(a,b,c,e,f,g,h){f||(f="false"),g||(g=0),d.get(l.orgsUrl+"/"+a+"/projects/"+b+"/buildtargets/"+c+"/builds/"+e+"/log?compact="+f+"&offsetlines="+g+"&withHtml=true&linenumbers=true").then(function(a){200!==a.status?h("Server returned an error"):(a.data||(a.data="No logs for this build"),h(null,a.data))},function(a){h("Server returned an error")})},o.projects.getRawBuildLog=function(a,b,c,e,f){d.get(l.baseUrl+"a