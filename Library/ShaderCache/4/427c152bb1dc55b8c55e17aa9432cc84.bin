st(b).$promise},o.users.devices={},o.users.devices.list=function(){return a(l.userSelfUrl+"/devices").query().$promise},o.users.devices.create=function(b,c){return a(l.userSelfUrl+"/devices").save(b).$promise},o.users.recordPageView=function(b){return a(l.userSelfUrl+"/events",{},{}).save({type:"page.view",data:b}).$promise},o.getUrl=function(b,c){return c?a(k+b).query().$promise:a(k+b).get().$promise},o.versions={},o.versions.get=function(b){return a(l.versionsUrl+"/"+b).query().$promise},o.oauth={},o.oauth.get_authorize_url=function(a,b){return l.oauthUrl+"/"+a+"/authorize"+b},o.oauth.access_token=function(b,c){return a(l.oauthUrl+"/"+b+"/access_token").save(c).$promise},o}]),angular.module("ut.services.cloudbuild").factory("ucbStatusService",["coreConfigService","$q","$log","$resource",function(a,b,c,d){function e(a,b,c,d){return(!a.scmType||b===a.scmType)&&((!a.billingPlan||d===a.billingPlan)&&(!a.platform||!angular.isUndefined(_.find(c,{platform:a.platform}))))}function f(a){if(a&&a.settings&&a.settings.scm)return a.settings.scm.type}function g(a){if(a&&a.billing)return a.billing.label}function h(a,b){return!a||!a.priority||a.priority<b.priority}var i,j={};return a.getConfigUrl("build_api_url").then(function(a){i=d(a+"/api/v1/status")}),j.getStatus=function(a,c,d){var j=b.defer(),k=f(a),l=g(d);return i.query().$promise.then(function(a){var b=null;a.forEach(function(a){e(a,k,c,l)&&h(b,a)&&(b=a)}),j.resolve(b)},function(a){j.reject(a)}),j.promise},j}]),angular.module("ut.unityeditor-components.cloud-config",[]).factory("coreConfigService",["$q",function(a){return{getConfigUrl:function(b){return a.when("")},getConfigUrls:function(){return a.when({})}}}]),angular.module("ut.unityeditor-components.message-log",[]).factory("messageLog",function(){function a(a){p=a}function b(a){q=a}function c(a){d=a}function d(a,b){return b="warning"===b?o:n,_.filter(a,function(a){return b.indexOf(a[q])>-1})}function e(a){var b=a[p].match(k),c=f(a);if(c){return(b?b[1]+": ":"")+c}return a[p]}function f(a){var b=a[p].match(l);if(b)for(var c=1;c<b.length;c++)if(b[c])return b[c]}function g(a){return a[0].match(m)}function h(a){return a[1]}function i(a,b){var c=d(a,b);return _.chain(c).countBy(e).pairs().reject(g).sortBy(h).value().reverse()}function j(a){var b=i(a,"error"),c=[];b.forEach(function(a){c.push({message:a[0],count:a[1],type:"error"})});var d=i(a,"warning"),e=[];return d.forEach(function(a){e.push({message:a[0],count:a[1],type:"warning"})}),{errors:c,warnings:e}}var k=/(shader error)/i,l=/(?:warning ([\w]+: *[\w\W]*$))|(?:[\w]+: *`([\w\W]*$))|(?:'[\w\/]+': ([\w\W]+) at line [\d]+)/,m=/(?:Error building [\w]+: [\d]+ errors)/,n=[0,1,4],o=[2],p="content",q="type";return{sortMessages:j,setContentField:a,setTypeField:b,setTypeSelector:c}}),angular.module("ut.services.notification",["ut.routes"]).service("notifications",["pubnubNotifications","socketNotifications",function(a,b){this.channels={},this.backends={PUBNUB_BACKEND:a,SOCKET_BACKEND:b},this.init=function(a,b){_.extend(this.channels,a.channels),b().then(function(b){a.init(b)}.bind(this))}.bind(this),this.subscribe=function(a,b){for(var c in this.backends)_.includes(this.backends[c].channels,a)&&this.backends[c].subscribe(a,b)}.bind(this)}]),angular.module("ut.services.notification").service("pubnubNotifications",["$q","$http","$interval",function(a,b,c){var d,e,f,g=this;this.pubnub=null,this.PUBNUB_DISCONNECTED=0,this.PUBNUB_CONNECTING=1,this.PUBNUB_CONNECTED=2,this.pubnubStatus=this.PUBNUB_DISCONNECTED,this.channels={USER_CHANNEL:"user",COMMIT_CHANNEL:"commits",SOFTLOCK_CHANNEL:"softlocks"},this.pubnubErrorCallBack=function(a){g.pubnubStatus=g.PUBNUB_DISCONNECTED,g.pubnub&&(g.pubnub.unsubscribe({channel:d.channels[g.channel]}),delete g.pubnub)},this.probePubnub=function(){g.channel&&e&&f&&g.pubnubStatus==g.PUBNUB_DISCONNECTED&&(g.pubnubStatus=g.PUBNUB_CONNECTING,g.refreshChannelAccess().then(function(a){d=a,g.pubnub=PUBNUB.init({subscribe_key:d.subscribe_key,auth_key:d.access_key,ssl:!0}),g.pubnub.subscribe({channel:d.channels[g.channel],connect:g.messageCallback,message:g.messageCallback,error:g.pubnubErrorCallBack}),g.pubnubStatus=g.PUBNUB_CONNECTED},function(a){g.pubnubStatus=g.PUBNUB_DISCONNECTED}))},this.refreshChannelAccess=function(){var c=a.defer();return b.post(f,{project_id:e}).success(function(a){c.resolve(a)}).error(function(a){c.reject(a)}),c.promise},this.subscribe=function(a,b){g.channel=a,g.messageCallback=b,g.probePubnub()},this.init=function(a){e=a.project_id,f=a.full_url,c(g.probePubnub,3e4)}}]),angular.module("ut.routes",[]).service("routes",function(){this.COLLAB_WEBSOCKET_ROUTE="/unity/services/collab/notifications",this.CONNECT_WEBSOCKET_ROUTE="/unity/services/connect/notifications",this.COLLAB_INFO_ROUTE="/unity/service/collab/info",this.COLLAB_LOCAL_CHANGES_ROUTE="/unity/service/collab/localChanges",this.COLLAB_REVISIONS_UPDATE_ROUTE="/unity/service/collab/revisions/update",this.COLLAB_ERROR_ROUTE="/unity/service/collab/error",this.CLOUD_CONNECT_INFO_ROUTE="/unity/service/cloud/connectInfo"}),angular.module("ut.services.notification").service("socketNotifications",["routes",function(a){this.channels={CHANGES_TO_PUBLISH_CHANNEL:a.COLLAB_LOCAL_CHANGES_ROUTE,COLLAB_INFO_CHANNEL:a.COLLAB_INFO_ROUTE,COLLAB_REVISIONS_UPDATE_CHANNEL:a.COLLAB_REVISIONS_UPDATE_ROUTE,COLLAB_ERROR_CHANNEL:a.COLLAB_ERROR_ROUTE,CLOUD_CONNECT_INFO_CHANNEL:a.CLOUD_CONNECT_INFO_ROUTE};var b={},c=function(a){var c=JSON.parse(a.data);b.hasOwnProperty(c.channel)&&b[c.channel].forEach(function(a){a(c.data)})};this.subscribe=function(a,c){b.hasOwnProperty(a)||(b[a]=[]),b[a].push(c)},this.init=function(b){var d,e;d=new WebSocket(b.rest_url.replace("http","ws")+a.COLLAB_WEBSOCKET_ROUTE),e=new WebSocket(b.rest_url.replace("http","ws")+a.CONNECT_WEBSOCKET_ROUTE),d.onmessage=e.onmessage=c}}]),angular.module("ngUnity.mockCloudBuildService",[]).factory("mockCloudBuildService",["$q",function(a){var b=jasmine.createSpy("auto reject",function(b){var c=a.defer();return c.reject(b),c.promise}).and.callThrough(),c=jasmine.createSpy("auto resolve",function(b){var c=a.defer();return c.resolve(b),c.promise}).and.callThrough(),d=function(a){return jasmine.createSpy("return resolved",function(){return c(a)}).and.callThrough()};return{returnsResolved:d,returnsRejected:function(a){return jasmine.createSpy("return rejected",function(){return b(a)}).and.callThrough()},resolveTo:c,rejectTo:b,projects:{sshkey:d({publickey:"test"}),scm:{checkUrl:{}}}}}]),angular.module("ngUnity.cloudbuild",["ngUnity.cloudcore","ut.components","ngUnity.general"]).factory("cloudbuild",["$q","$http","cloudcore","unityService",function(a,b,c,d){var e={};e.webUrl="https://build.cloud.unity3d.com";var f=d.getUnityObject("unity/project/cloud/build");return e.ShowServicePage=function(){f.ShowServicePage()},e.ShowBuildForCommit=function(a){f.ShowBuildForCommit(a)},e.IsReady=function(){var b=a.defer();return c.getConfigEntry("build").then(function(a){void 0!==a?e.webUrl=a:console.log('Unable to find a config entry for "build"'),b.resolve(!0)}),b.promise},e.getUCBUrl=function(){return e.webUrl},e}]),angular.module("ngUnity.pout",[]).factory("cloudbuildUi",["errorHandlerInterface","cloudbuild","ucPromise",function(a,b,c){var d={},e=_.keys(cloudcore);e.map(function(b){var e=cloudcore[b];d[b]=function(){var d=e.apply(cloudcore,arguments);return d=c.decoratePromise(a.bind(this,{method:b}),d),d.handleErrors()}});return d}]),angular.module("ngUnity.cloudcollab",["ngUnity.cloudcredentials","ngUnity.connectService","ngUnity.errors","ngUnity.general","ut.components"]).factory("cloudcollab",["$q","$cookies","$http","$localStorage","unityConnectService",function(a,b,c,d,e){function f(a){var b={},c=[];_.each(a.changes,function(a){endsWith(a.path,".meta")||(b[a.path]=!0,a.isMeta=!1,c.push(a))}),_.each(a.changes,function(a){b.hasOwnProperty(a.path)||b.hasOwnProperty(a