){return{restrict:"EAC",templateUrl:function(a,b){var c=b.ucIcon;return c?"../../vendor/unityeditor-cloud-pack/assets/icons/svg/"+c+".svg":(console.warn("Could not retrieve svg icon"),"")}}}]),angular.module("uc.editor.components",["uc.editor.components.icons"]),angular.module("ngUnity.directives",["ngUnity.connectService","ngUnity.projectService","ngUnity.cloudPanelService","ngUnity.clipboardService","ngPanel.status","angular-loading-bar","ut.components","angulartics","angulartics.google.analytics","ngUnity.cloudcore","ngUnity.tooltips"]).config(["cfpLoadingBarProvider",function(a){a.includeSpinner=!1}]).directive("nagPrism",["$compile",function(a){return{restrict:"A",transclude:!0,scope:{source:"@",language:"@"},link:function(b,c,d,e,f){b.$watch("source",function(a){c.find("code").html(a),Prism.highlightElement(c.find("code")[0])}),f(function(d){void 0!==d.html()&&(c.find("code").html(d.html()),a(c.contents())(b.$parent))})},template:"<code></code>"}}]).directive("unityCodeSample",["unityConnectService",function(a){return{restrict:"EA",scope:{sampleList:"=",projectId:"="},templateUrl:"libs/sourceSample.tpl.html",link:function(b,c,d){b.projectInfo=a.projectInfo,b.setSampleIndex=function(a){b.sampleIndex=a,a>-1&&(b.currentCode=b.currentCode.replace(/%%UPID%%/g,projectInfo.projectGUID),b.formattedCurrentCode=b.currentCode.replace(/</g,"&lt;"),b.formattedCurrentCode=b.formattedCurrentCode.replace(/>/g,"&gt;"),Prism.highlightAll())},b.$watch("sampleList",function(a,c){a&&b.setSampleIndex(b.sampleList&&b.sampleList.length?0:-1)})}}}]).directive("unityCollapseSection",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{title:"=",collapsed:"@"},templateUrl:"libs/unityCollapseSection.tpl.html"}}).directive("ladda",function(){return{restrict:"A",link:function(a,b,c){if(b&&b[0]){var d=Ladda.create(b[0]);a.$watch(c.ladda,function(a,b){void 0!==a&&(a?d.start():d.stop())})}}}}).directive("legalPanel",["unityService","unityProjectService","utAlert","unityConnectService","cloudcoreUi",function(a,b,c,d,e){return{restrict:"E",replace:!0,templateUrl:"libs/legalPanel.tpl.html",scope:{panelInfo:"="},link:function(a){function f(a){var b=a;return"undefined"===b&&(b=!1),"compliant"===a?b=!0:"not_compliant"===a&&(b=!1),b}function g(a){return a?"compliant":"not_compliant"}a.continueMode=!a.panelInfo.isHub,a.compliance=!1,a.oldCompliance=a.compliance,a.isSaving=!1,a.openExternalLink=function(a){b.ready(function(){b.OpenLink(a)})},a.modified=function(){return a.compliance!==a.oldCompliance},a.cancel=function(){$("#cmn-toggle-enable-service").attr("checked",!1),a.panelInfo.preEnable&&(a.panelInfo.preEnable=!1),a.panelInfo.enabled=!1},a.saveChanges=function(){if(a.isSaving)return!1;a.isSaving=!0,c.clearAlert();var b=g(a.compliance);d.ready(function(){e.SetCOPPACompliance(b).success(function(b){c.setInfo("COPPA compliance changed"),a.isSaving=!1,a.oldCompliance=a.compliance,void 0!==a.panelInfo.confirmedLegal&&a.panelInfo.confirmedLegal()}).error(function(b){a.isSaving=!1,a.compliance=f(d.projectInfo.COPPA)})})},a.showInfo=function(){c.setInfo("Project is currently locked. This feature is unavailable.")},d.ready(function(){a.compliance=f(d.projectInfo.COPPA),a.oldCompliance=a.compliance,a.$watch(function(){return d.projectInfo.COPPA},function(b,c){a.compliance=f(b)},!0)}),d.ready(function(){a.hasEditRights=function(){return d.projectInfo.permissions.hasEditRights()&&!d.projectInfo.coppaLock}})}}}]).directive("ucDocLinks",["unityCloudPanelService","unityProjectService",function(a,b){return{restrict:"E",replace:!0,templateUrl:"libs/doc-links.tpl.html",link:function(c){c.panelInfo=a.panelInfo,c.openExternalLink=function(c){var d=a.getEnvLinkValue(c.ref);b.OpenLink(d)}}}}]).directive("ucSupportedPlatform",["unityCloudPanelService","unityProjectService",function(a,b){return{restrict:"E",replace:!0,templateUrl:"libs/supported-platform.tpl.html",link:function(b){b.supportedPlatforms=a.panelInfo.supportedPlatforms}}}]).directive("ucCodeSample",["unityCloudPanelService","unityConnectService","unityClipboardService",function(a,b,c){return{restrict:"EA",templateUrl:"libs/sourceSample.tpl.html",link:function(d){d.projectInfo=b.projectInfo,d.sampleList=a.codeSamples,d.setSampleIndex=0,d.copyToClipboard=function(a){c.CopyToClipboard(a)},d.setSampleIndex=function(a){d.sampleIndex=a,a>-1&&(d.currentCode=d.sampleList[a].code.replace(/%%UPID%%/g,d.projectInfo.projectGUID),d.formattedCurrentCode=d.currentCode.replace(/</g,"&lt;"),d.formattedCurrentCode=d.formattedCurrentCode.replace(/>/g,"&gt;"),Prism.highlightAll())},d.$watchCollection("sampleList",function(a,b){a&&d.setSampleIndex(d.sampleList&&d.sampleList.length?0:-1)})}}}]).directive("ucPanelHeader",["$state","$timeout","$q","unityCloudPanelService","unityConnectService","unityProjectService","utAlert",function(a,b,c,d,e,f,g){return{restrict:"E",replace:!0,templateUrl:"libs/panelHeader.tpl.html",scope:{showToggle:"="},link:function(b){b.$watch("showToggle",function(a){b._showToggle=a||angular.isUndefined(a)}),b.projectInfo=e.projectInfo,b.panelInfo=d.panelInfo;var f;b.panelInfo.setEnabled=function(){return f=c.defer(),b.panelInfo.requiresCOPPA?b.panelInfo.preEnable?(b.panelInfo.preEnable=!1,this.enabled=!1,f.resolve(!0),f.promise):(b.panelInfo.enabled||"undefined"!=b.projectInfo.COPPA?f.promise=d.EnableService(!b.panelInfo.enabled):(b.panelInfo.preEnable=!0,f.resolve()),f.promise):(f.promise=d.EnableService(!b.panelInfo.enabled),f.promise)},b.panelInfo.requiresCOPPA&&(b.panelInfo.confirmedLegal=function(){d.EnableService(!0).then(function(){f&&f.resolve(!0)}).final(function(){b.panelInfo.preEnable=!1,b.panelInfo.enabled=!0})}),b.connectInfo=e.connectInfo,b.userInfo=e.userInfo,b.showValidateEnableMsg=function(){if(!d.canEn